{% include "back-office/index.html.twig" %}
{% block stylesheets %}
	<style>
		.card {
			display: inline-table;
			margin-bottom: 5%;
		}

		.card-header {
			display: inline-flex;
			justify-content: space-between;
			width: 100%;
		}
		body {
			font-family: sans-serif;
			background-color: #eeeeee;
		}

		.file-upload {
			background-color: #ffffff;
			width: 100%;
			margin: 0 auto;
			padding: 15px;
		}

		.file-upload-btn {
			width: 100%;
			margin: 0;
			color: #fff;
			background: #1FB264;
			border: none;
			padding: 10px;
			border-radius: 4px;
			border-bottom: 4px solid #15824B;
			transition: all 0.2s ease;
			outline: none;
			text-transform: uppercase;
			font-weight: 700;
		}

		.file-upload-btn:hover {
			background: #1AA059;
			color: #ffffff;
			transition: all 0.2s ease;
			cursor: pointer;
		}

		.file-upload-btn:active {
			border: 0;
			transition: all 0.2s ease;
		}

		.file-upload-content {
			display: none;
			text-align: center;
		}

		.file-upload-input {
			position: absolute;
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			outline: none;
			opacity: 0;
			cursor: pointer;

			left: 0;

		}

		.image-upload-wrap {
			margin-top: 20px;
			border: 4px dashed #198ae3;
			position: relative;
		}

		.image-dropping,
		.image-upload-wrap:hover {
			background-color: #d8d8d8;
			border: 4px dashed #ffffff;
		}

		.image-title-wrap {
			padding: 0 15px 15px;
			color: #222;
		}

		.drag-text {
			text-align: center;
		}

		.drag-text h3 {
			font-weight: 100;
			text-transform: uppercase;

			padding: 60px 0;
		}

		.file-upload-image {
			max-height: 200px;
			max-width: 200px;
			margin: auto;
			padding: 20px;
		}

		.remove-image {
			width: 200px;
			margin: 0;
			color: #fff;
			background: #cd4535;
			border: none;
			padding: 10px;
			border-radius: 4px;
			border-bottom: 4px solid #b02818;
			transition: all 0.2s ease;
			outline: none;
			text-transform: uppercase;
			font-weight: 700;
		}

		.remove-image:hover {
			background: #c13b2a;
			color: #ffffff;
			transition: all 0.2s ease;
			cursor: pointer;
		}

		.remove-image:active {
			border: 0;
			transition: all 0.2s ease;
		}
	</style>
{% endblock %}
{% block body %}
	<div class="main-panel">
		<nav>
			<div class="nav nav-tabs" id="nav-tab" role="tablist">
				<a class="nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Cv</a>
				<a class="nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Portfolio</a>
				<a class="nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Demande</a>
			</div>
		</nav>
		<div class="tab-content" id="nav-tabContent">
			<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
				<div class-"card-group">
					{% for model in models %}
						{% if model.getIdCategorie().nom == 'Cv' %}
							<div class="card text-center" style="width: 18rem;">
								<div class="card-header">
									<div class="row" style="width: 100%;">
										<div class="col-md-9" style="align-self: center;">
											<p style="margin-bottom:0px">{{ model.titre }}</p>
										</div>
										<div class="col-sm-3">
											<div class="dropdown">
												<button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuIconButton1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													<i class="mdi mdi-dots-vertical"></i>
												</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuIconButton1">
													<h6 class="dropdown-header">Settings</h6>
													<a class="dropdown-item" href="{{path('delete',{'id':model.id})}}">supprimer</a>
													<a class="dropdown-item" data-toggle="modal" data-target="#exampleModal{{model.id}}">Modifier
													</a>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="modal fade" id="exampleModal{{model.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog" role="document">
										<form method="post" action="{{path('Model')}}" enctype="multipart/form-data">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="exampleModalLabel">Modification
													</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>
												</div>
												<div class="modal-body">
													<form>
														<div class="form-group">
															<label for="recipient-name" class="col-form-label">Titre:</label>
															<input type="hidden" value="{{ model.id }}" name="id">
															<input type="text" class="form-control" name="titre" value="{{ model.titre}}">
														</div>
														<div class="form-group">
															<label for="message-text" class="col-form-label">Description:</label>
															<textarea class="form-control" name="description">{{model.description}}</textarea>
														</div>
														<div class="form-group">
															<label for="message-text" class="col-form-label">Image:</label>
															<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

															<div class="file-upload">
																{% if model.image == null  %}
																	<div class="image-upload-wrap">
																		<input class="file-upload-input" type='file' id="image" name="image" onchange="readURL(this);" accept="image/*"/>
																		<div class="drag-text">
																			<h3>Drag and drop a file or select add Image</h3>
																		</div>
																	</div>
																	<div class="file-upload-content">

																		<img class="file-upload-image" src="#" alt="your image"/>


																		<div class="image-title-wrap">
																			<button type="button" onclick="removeUpload()" class="remove-image">Remove
																				<span class="image-title">Uploaded Image</span>
																			</button>
																		</div>
																	</div>
																{% else %}

																	<div class="image-upload-wrap" style="display: none;">
																		<input class="file-upload-input" type='file' id="image" name="image" onchange="readURL(this);" accept="image/*"/>
																		<div class="drag-text">
																			<h3>Drag and drop a file or select add Image</h3>
																		</div>
																	</div>
																	<div class="file-upload-content" style="display: block;">
																		{% if model.image != null %}
																			<img src="{{model.image.url}}" class="file-upload-image" alt="...">
																		{% else %}
																			<img class="file-upload-image" src="#" alt="your image"/>
																		{% endif %}

																		<div class="image-title-wrap">
																			<button type="button" onclick="removeUpload()" class="remove-image">Remove
																				<span class="image-title">Uploaded Image</span>
																			</button>
																		</div>
																	</div>
																{% endif %}


															</div>
														</div>
													</form>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
													<button type="submit" class="btn btn-primary">Enregister</button>
												</div>
											</div>
										</form>
									</div>
								</div>

								{% if model.image != null %}
									<img src="{{model.image.url}}" class="card-img-top" alt="...">
								{% else %}
									<img src="i4.jpg" class="card-img-top" alt="...">
								{% endif %}
								<div class="card-body">
									<h5 class="card-title">Description</h5>
									<p class="card-text">{{ model.description }}</p>
									<a href="{{path(model.url)}}" class="btn btn-primary">Afficher</a>
								</div>
							</div>
						{% endif %}

					{% endfor %}


				</div>
			</div>
			<div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
				{% for model in models %}
					{% if model.getIdCategorie().nom == 'Portfolio' %}
						<div class="card text-center" style="width: 18rem;">
							<div class="card-header">
								<div class="row" style="width: 100%;">
									<div class="col-md-9" style="align-self: center;">
										<p style="margin-bottom:0px">{{ model.titre }}</p>
									</div>
									<div class="col-sm-3">
										<div class="dropdown">
											<button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuIconButton1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												<i class="mdi mdi-dots-vertical"></i>
											</button>
											<div class="dropdown-menu" aria-labelledby="dropdownMenuIconButton1">
												<h6 class="dropdown-header">Settings</h6>
												<a class="dropdown-item" href="{{path('delete',{'id':model.id})}}">supprimer</a>
												<a class="dropdown-item" data-toggle="modal" data-target="#exampleModal{{model.id}}">Modifier
												</a>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="modal fade" id="exampleModal{{model.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
								<div class="modal-dialog" role="document">
									<form method="post" action="{{path('Model')}}" enctype="multipart/form-data">
										<div class="modal-content">
											<div class="modal-header">
												<h5 class="modal-title" id="exampleModalLabel">Modification
												</h5>
												<button type="button" class="close" data-dismiss="modal" aria-label="Close">
													<span aria-hidden="true">&times;</span>
												</button>
											</div>
											<div class="modal-body">
												<form>
													<div class="form-group">
														<label for="recipient-name" class="col-form-label">Titre:</label>
														<input type="hidden" value="{{ model.id }}" name="id">
														<input type="text" class="form-control" name="titre" value="{{ model.titre}}">
													</div>
													<div class="form-group">
														<label for="message-text" class="col-form-label">Description:</label>
														<textarea class="form-control" name="description">{{model.description}}</textarea>
													</div>
													<div class="form-group">
														<label for="message-text" class="col-form-label">Image:</label>
														<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

														<div class="file-upload">
															{% if model.image == null  %}
																<div class="image-upload-wrap">
																	<input class="file-upload-input" type='file' id="image" name="image" onchange="readURL(this);" accept="image/*"/>
																	<div class="drag-text">
																		<h3>Drag and drop a file or select add Image</h3>
																	</div>
																</div>
																<div class="file-upload-content">

																	<img class="file-upload-image" src="#" alt="your image"/>


																	<div class="image-title-wrap">
																		<button type="button" onclick="removeUpload()" class="remove-image">Remove
																			<span class="image-title">Uploaded Image</span>
																		</button>
																	</div>
																</div>
															{% else %}

																<div class="image-upload-wrap" style="display: none;">
																	<input class="file-upload-input" type='file' id="image" name="image" onchange="readURL(this);" accept="image/*"/>
																	<div class="drag-text">
																		<h3>Drag and drop a file or select add Image</h3>
																	</div>
																</div>
																<div class="file-upload-content" style="display: block;">
																	{% if model.image != null %}
																		<img src="{{model.image.url}}" class="file-upload-image" alt="...">
																	{% else %}
																		<img class="file-upload-image" src="#" alt="your image"/>
																	{% endif %}

																	<div class="image-title-wrap">
																		<button type="button" onclick="removeUpload()" class="remove-image">Remove
																			<span class="image-title">Uploaded Image</span>
																		</button>
																	</div>
																</div>
															{% endif %}


														</div>
													</div>
												</form>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
												<button type="submit" class="btn btn-primary">Enregister</button>
											</div>
										</div>
									</form>
								</div>
							</div>

							{% if model.image != null %}
								<img src="{{model.image.url}}" class="card-img-top" alt="...">
							{% else %}
								<img src="i4.jpg" class="card-img-top" alt="...">
							{% endif %}
							<div class="card-body">
								<h5 class="card-title">Description</h5>
								<p class="card-text">{{ model.description }}</p>
								<a href="{{path(model.url)}}" class="btn btn-primary">Afficher</a>
							</div>
						</div>
					{% endif %}

				{% endfor %}
			</div>
		</div>
		<div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
			{% for model in models %}
				{% if model.getIdCategorie().nom == 'Demande' %}
					<div class="card text-center" style="width: 18rem;">
						<div class="card-header">
							<div class="row" style="width: 100%;">
								<div class="col-md-9" style="align-self: center;">
									<p style="margin-bottom:0px">{{ model.titre }}</p>
								</div>
								<div class="col-sm-3">
									<div class="dropdown">
										<button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuIconButton1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											<i class="mdi mdi-dots-vertical"></i>
										</button>
										<div class="dropdown-menu" aria-labelledby="dropdownMenuIconButton1">
											<h6 class="dropdown-header">Settings</h6>
											<a class="dropdown-item" href="{{path('delete',{'id':model.id})}}">supprimer</a>
											<a class="dropdown-item" data-toggle="modal" data-target="#exampleModal{{model.id}}">Modifier
											</a>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="modal fade" id="exampleModal{{model.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
							<div class="modal-dialog" role="document">
								<form method="post" action="{{path('Model')}}" enctype="multipart/form-data">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title" id="exampleModalLabel">Modification
											</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
										</div>
										<div class="modal-body">
											<form>
												<div class="form-group">
													<label for="recipient-name" class="col-form-label">Titre:</label>
													<input type="hidden" value="{{ model.id }}" name="id">
													<input type="text" class="form-control" name="titre" value="{{ model.titre}}">
												</div>
												<div class="form-group">
													<label for="message-text" class="col-form-label">Description:</label>
													<textarea class="form-control" name="description">{{model.description}}</textarea>
												</div>
												<div class="form-group">
													<label for="message-text" class="col-form-label">Image:</label>
													<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

													<div class="file-upload">
														{% if model.image == null  %}
															<div class="image-upload-wrap">
																<input class="file-upload-input" type='file' id="image" name="image" onchange="readURL(this);" accept="image/*"/>
																<div class="drag-text">
																	<h3>Drag and drop a file or select add Image</h3>
																</div>
															</div>
															<div class="file-upload-content">

																<img class="file-upload-image" src="#" alt="your image"/>


																<div class="image-title-wrap">
																	<button type="button" onclick="removeUpload()" class="remove-image">Remove
																		<span class="image-title">Uploaded Image</span>
																	</button>
																</div>
															</div>
														{% else %}

															<div class="image-upload-wrap" style="display: none;">
																<input class="file-upload-input" type='file' id="image" name="image" onchange="readURL(this);" accept="image/*"/>
																<div class="drag-text">
																	<h3>Drag and drop a file or select add Image</h3>
																</div>
															</div>
															<div class="file-upload-content" style="display: block;">
																{% if model.image != null %}
																	<img src="{{model.image.url}}" class="file-upload-image" alt="...">
																{% else %}
																	<img class="file-upload-image" src="#" alt="your image"/>
																{% endif %}

																<div class="image-title-wrap">
																	<button type="button" onclick="removeUpload()" class="remove-image">Remove
																		<span class="image-title">Uploaded Image</span>
																	</button>
																</div>
															</div>
														{% endif %}


													</div>
												</div>
											</form>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
											<button type="submit" class="btn btn-primary">Enregister</button>
										</div>
									</div>
								</form>
							</div>
						</div>

						{% if model.image != null %}
							<img src="{{model.image.url}}" class="card-img-top" alt="...">
						{% else %}
							<img src="i4.jpg" class="card-img-top" alt="...">
						{% endif %}
						<div class="card-body">
							<h5 class="card-title">Description</h5>
							<p class="card-text">{{ model.description }}</p>
							<a href="#" class="btn btn-primary">Afficher</a>
						</div>
					</div>
				{% endif %}

			{% endfor %}
		</div>
	</div>

</div>
<!-- main-panel ends --></div><!-- page-body-wrapper ends --></div>{% endblock %}<script>function readURL(input) {
if (input.files && input.files[0]) {

var reader = new FileReader();

reader.onload = function (e) {
$('.image-upload-wrap').hide();

$('.file-upload-image').attr('src', e.target.result);
$('.file-upload-content').show();

$('.image-title').html(input.files[0].name);
};
console.log(input.files[0]);
reader.readAsDataURL(input.files[0]);

} else {
removeUpload();
}
}

function removeUpload() {
$('.file-upload-input').replaceWith($('.file-upload-input').clone());
$('.file-upload-content').hide();
$('.image-upload-wrap').show();
}
$('.image-upload-wrap').bind('dragover', function () {
$('.image-upload-wrap').addClass('image-dropping');
});
$('.image-upload-wrap').bind('dragleave', function () {
$('.image-upload-wrap').removeClass('image-dropping');
});</script>
